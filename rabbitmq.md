# RabbitMQ 的学习

## 为什么使用消息队列？
    其实就是问问你消息队列都有哪些使用场景，然后你项目里具体是什么场景，说说你在这个场景里用消息队列是什么？
    面试官问你这个问题，期望的一个回答是说，你们公司有个什么业务场景，这个业务场景有个什么技术挑战，如果不用 MQ 可能会很麻烦，但是你现在用了 MQ 之后带给了你很多的好处。
    1.业务场景(核心场景:解耦,异步,肖峰)
	  2.技术挑战
	  3.如果不用MQ带来的麻烦
	  4.用MQ的好处
## 消息队列有什么优点和缺点:
    缺点:1.系统可用性降低,如何保证消息队列的高可用,镜像集群模式（高可用性）
	       2.系统复杂度提高,你怎么保证消息没有重复消费？怎么处理消息丢失的情况？怎么保证消息传递的顺序性？头大
		        1.***如何保证消息不被重复消费？或者说，如何保证消息消费的幂等性？(消费这条记录记录在另外一个地方,在消费查是否是重复的)
			          1.唯一id+指纹码
			          2.redis的原子性
		        2.如何保证消息的可靠性传输？或者说，如何处理消息丢失的问题？
		          	1.生产者:防止数据丢失采用  confirm 机制的
			          2.RabbitMQ 弄丢了数据:开启 RabbitMQ 的持久化
			3.消费端弄丢了数据:ack 机制
	3.一致性问题,
	4.顺序性:
		rabbitmq：***拆分多个queue，每个queue一个consumer，
		就是多一些queue而已，确实是麻烦点；或者就一个queue但是对应一个consumer，
		然后这个consumer内部用内存队列做排队，然后分发给底层不同的worker来处理
 
